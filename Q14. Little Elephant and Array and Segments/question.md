Difficulty: Hard
Tags: stack, monotonic-stack

Platform: Codeforces
Link: https://codeforces.com/problemset/problem/205/C

Concept to Read:

Monotonic Stack for range processing

Prefix sum + stack combination

Issue Description:
You are given an array and multiple segment queries.
Efficiently process queries by identifying constraints using stack-based preprocessing.

This problem tests advanced stack usage in competitive programming.

Acceptance Criteria:

Correct handling of all queries

Efficient preprocessing

Time Complexity: O(n + q)

Space Complexity: O(n)